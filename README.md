<img width="180" height="243" alt="image" src="https://github.com/user-attachments/assets/5f08cf13-7b92-4d26-8430-aafe260f8df7" />

# Floating Console Pro (悬浮控制台)

一个轻量级、现代化的 Windows 桌面悬浮工具，集成了系统监控、天气预报、下班倒计时以及便捷的系统控制功能。

## ✨ 主要功能

*   **🖥️ 系统监控**
    *   实时显示 CPU 和 内存使用率。
    *   记录并显示本次运行期间的 CPU/内存 最大峰值 (MAX)。
    *   显示当前显示器的刷新率 (Hz)。
    *   智能边框变色：根据 CPU 负载改变边框颜色（正常：灰色，高负载：黄色，过载：红色）。

*   **☁️ 天气预报**
    *   集成 `wttr.in` 天气服务。
    *   显示指定城市的 **今天** 和 **明天** 天气概况。
    *   支持手动刷新和自动更新（每30分钟）。

*   **⏳ 下班倒计时**
    *   自定义下班时间。
    *   精确到秒的倒计时显示，助你把握工作节奏。

*   **🚀 快捷操作**
    *   **滑动锁屏**：防误触的滑动解锁风格按钮，一键锁定 Windows 工作站。
    *   **滑动关机**：滑动执行系统关机命令。

*   **🎨 界面特性**
    *   **极简设计**：无边框窗口，半透明磨砂背景。
    *   **悬浮置顶**：始终显示在所有窗口最上方。
    *   **随意拖拽**：按住窗口任意位置即可拖动。
    *   **系统托盘**：支持最小化到托盘，双击托盘图标显示/隐藏。

## 📦 安装说明

### 1. 环境要求
*   Windows 操作系统
*   Python 3.6+

### 2. 安装依赖库
在项目目录下打开终端，运行以下命令安装所需的 Python 库：

```bash
pip install -r requirements.txt
```

*依赖库列表：*
*   `PyQt5`: 用于构建图形用户界面。
*   `psutil`: 用于获取系统 CPU 和内存信息。
*   `requests`: 用于请求天气 API 数据。
*   `pywin32`: 用于获取系统刷新率和执行锁屏操作。

## 🚀 使用指南

### 启动程序
运行主程序文件：

```bash
python floating_console.py
```

### 交互操作
*   **拖动窗口**：按住窗口任意空白区域即可拖动位置。
*   **滑动按钮**：按住滑块向右滑动到底部，释放后触发“锁屏”或“关机”。
*   **最小化**：程序关闭时会自动最小化到右下角系统托盘，双击托盘图标可重新呼出。

### ⚙️ 隐藏设置 (设置天气与时间)
为了保持界面简洁，配置功能采用了隐藏式交互：

1.  **设置天气城市**：
    *   连续点击 **"天气"** 区域 **5次**。
    *   在弹出的对话框中输入城市名称（例如：`北京`、`Shanghai`）。
    *   确认后即可获取该城市天气。

2.  **设置下班时间**：
    *   连续点击 **"下班剩余时间"** 区域 **5次**。
    *   在弹出的对话框中输入时间（格式：`18:00`）。
    *   确认后开启倒计时。

## 📝 注意事项
*   天气数据来源于网络 API，需要保持网络连接。
*   关机功能调用的是系统 `shutdown /s /t 0` 命令，请确保在操作前保存好重要工作。

## 📄 许可证
MIT License
